<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>notice</title>
</head>
<body>
<header th:replace="~{layout/header}"></header>
<!--<div>
	<div>
		<div>
			<div>
				<input type="text" id="search_kw" th:value="${kw}">
				<button type="button" id="btn_search">찾기</button>
			</div>
		</div>
	</div>
	
	<table>
		<thead>
			<tr>
				<th style="width:50%">제목</th>
				<th>작성일시</th>
			</tr>
		</thead>-->
	<!--	<tbody>
			<tr th:each="notice, loop : ${paging}">
				<td th:text="${paging.getTotalElements - (paging.number * paging.size) - loop.index}"></td>
				<td>
					<a	th:href="@{|/notice/detail/${notic.id}|}"
						th:text="${question.subject}"></a>
					<span class="text-danger small ms-2"
						th:if="${#lists.size(question.answerList) > 0}"
						th:text="${#lists.size(question.answerList)}">
					</span>
				</td>
				<td>
					<span th:if="${question.author != null}" th:text="${question.author.username}"></span>
				</td>
				<td th:text="${#temporals.format(question.createDate,
					'yyyy-MM-dd HH:mm')}"></td>			
			</tr>
		</tbody>
	</table>
	
	&lt;!&ndash;페이징 처리 시작&ndash;&gt;
	
	<div th:if="${!paging.isEmpty()}">
		<ul>
			<li class="page-item" th:classappend="${!paging.hasPrevious} ? 'disabled'">
				<a class="page-link" href="javascript:void(0)" th:data-page="${paging.number-1}">
					<span>이전</span>
				</a>
			</li>
			<li th:each="page: ${#numbers.sequence(0, paging.totalPages-1)}" 
			th:if="${page >= paging.number-5 and page <= paging.number+5}"
			th:classappend="${page == paging.number} ? 'active'" class="page-item">
				<a th:text="${page}" class="page-link" href="javascript:void(0)" th:data-page="${page}"></a>
			</li>
			<li th:classappend="${!paging.hasNext} ? 'disabled'">
				<a class="page-link" href="javascript:void(0)" th:data-page="${paging.number+1}">
					<span>다음</span>
				</a>
			</li>
		</ul>
	</div>
	
	&lt;!&ndash;페이징 처리 끝&ndash;&gt;
	
	<form th:action="@{/question/list}" method="get" id="searchForm">
		<input type="hidden" id="kw" name="kw" th:value="${kw}">
		<input type="hidden" id="page" name="page" th:value="${paging.number}">
	</form>
	
	<script type="text/javascript">
		const page_elements = document.getElementsByClassName("page-link");
		Array.from(page_elements).forEach(function(element){
			element.addEventListener('click', function(){
				document.getElementById('page').value = this.dataset.page;
				document.getElementById('searchForm').submit();
			});
		});
<footer th:replace="~{layout/footer}"></footer>
</body>
</html>